const Curve = artifacts.require('CurveP256.sol');
let c;
contract("CurveP256", () => {
    // const root = accounts[0];
    before(async() => {
       
        // function checkMulSig(bytes memory listCompPk, uint256[] memory xPks, uint256[] memory yPks, uint[] memory idxRs,
  //uint[] memory idxSigs, uint256 xR, uint256 yR, bytes memory bytesR, uint256 sig, bytes memory mess)
        c = await Curve.deployed()
    })
    describe('TestMulSig', () => {
        it('Test total gas', async() => {
            let pks = [2,175,225,75,247,194,125,116,69,102,153,154,106,217,72,224,182,94,241,69,36,107,212,131,30,72,135,88,56,231,241,183,218,3,208,137,130,225,96,162,200,120,176,34,118,171,154,42,76,126,129,246,78,203,72,29,165,93,170,91,159,226,86,119,158,26,2,217,189,188,89,142,200,80,104,49,104,76,168,77,126,229,153,125,188,145,253,198,175,210,126,184,217,224,91,61,206,59,20,3,142,191,117,66,253,143,102,105,20,153,116,201,253,194,20,31,192,197,102,136,23,157,222,36,250,12,111,161,218,121,234,48,3,138,241,185,231,171,92,17,177,128,118,248,127,32,240,46,97,29,116,66,6,48,247,250,96,15,151,103,99,150,164,7,41,3,97,174,187,31,105,180,197,153,71,126,196,109,203,111,178,251,87,145,22,244,37,1,118,236,241,97,25,98,245,144,197,237,2,99,41,107,100,248,65,176,155,200,30,39,48,239,221,124,223,129,173,75,180,187,208,55,127,237,11,175,66,78,107,223,32,2,131,86,177,167,43,49,79,149,112,149,158,66,73,126,193,251,30,241,9,25,129,184,223,42,86,9,44,203,119,211,144,74,3,165,191,93,174,139,101,95,236,172,74,103,190,174,221,158,180,250,192,129,19,181,233,175,216,72,4,25,175,24,161,12,85,3,38,42,10,12,80,164,75,234,127,120,98,185,183,248,16,43,237,243,141,132,121,92,176,28,203,248,85,152,254,160,52,139,3,99,77,93,232,179,122,165,114,115,54,211,119,94,91,103,215,183,97,140,54,102,185,129,89,183,178,12,44,29,169,218,49,2,206,222,143,61,1,184,54,78,191,81,126,114,36,54,196,85,174,72,146,84,50,237,107,236,165,237,81,170,195,161,49,170,2,210,240,214,97,77,59,26,254,128,197,230,173,236,162,60,249,231,184,164,14,73,94,118,127,162,189,204,156,174,135,146,103,2,25,114,110,103,233,154,224,194,172,17,41,61,229,162,133,6,91,36,120,142,45,243,241,231,58,67,176,113,246,123,127,96,2,150,225,135,66,177,174,123,13,73,177,18,50,162,73,78,154,201,107,122,85,72,111,19,93,80,29,216,56,156,103,224,155,3,125,246,229,239,118,26,162,189,161,112,242,165,132,203,189,223,23,159,134,236,249,237,15,248,25,185,160,172,146,30,129,104]
            let xPks = [79552813402211783959545337538861539771523273214176799002746592844518735853530,94324033856384075396923524603606453910463218021702376539193888606749772455450,98487122180597120771576333867031461310733930659367703839640442957739852708628,64566701598578554231218291624947008655818581541186132316518496364334627285552,62846266315970465497332149028352530519471057461390382961457438825562320930601,44183069175305630921880321477605156964575009226689647333144988520728178509293,44852153948397531093673326331494243491478369454042039214083135586490460659488,59406158127942027131926211651684528461017935589707682240488013486080425955402,74969734373732708771929029853184669813822937048294964792451671477092956048469,17262165172360213824129799947314015945181053911506261942990301204179637515403,44915667369750540304579646418692026888188316681228574841776056542688201792049,93569675450999107843147669639969265465225028874142072026527811216071611986346,95411221094999154720390524873845523406133913161152666734067740959342833668711,11510003773540526261767529641121296638191438050143876842874272969520850894688,68245401410890444298575171862708909542328208948824151102724257619984427507867,56975337406622257290659505274512781805072920533279967679133465031716542251368]
            let yPks = [90693604556777655343612992394361677900317430010983822793315384611913239367506,55643171816809589391004525107048257044837170237802103814540227699380445518491,70897070200847708716799435759961979323483847848440419708486692506093941604018,72502947801077648654527492252567349639921177292316413351304887876771503754535,32958757073894665814035722872198364691317318328586379528701832618384403134753,52604808250354468771540856790772389711187181118995705768000472643951424050913,94487401314293391773674665933604490353709796702755361296428070987550899256356,107424727598725304383097127991652444952380118768627249616983452660258701738320,96688588730872158379400306502681087980239510108121618111537973135120175108983,55563806514947804544089394288569869042083198076740668264489635099685233550503,10865431030993246604195371333820559357329153387230406010050814353352219292883,60756164289347839747555808639619198408170975519184172443022086863694477583122,53277075453457988443550102075716647290703950270735189706815231592908538278394,27355272507859745710973786385799861610194287460807047138284499451312280625258,113174399677091839089572400235446119853326147401406856616801119121203596963334,61580905418207520752479286759613449687707739718718195772088407429730304297033]
            let idxs = [3,4,5,6,7,8]
            let idxr = [1,2,3,4,5,6,7,8,9,10,11,12]
            let R = [3,104,31,251,6,255,94,237,227,155,230,178,151,200,0,65,141,22,136,0,62,126,139,233,49,154,28,240,35,59,136,138,7]
            let xR = 47097041038654244745077679421740103282845310041718165263206625085413294377479
            let yR =108938976338928248433099706642405532471703580344856815036600536668847554065175
            let sig =108938976338928248433099706642405532471703580344856815036600536668847554065175
            let mess =[3,104,31,251,6,255,94,237,227,155,230,178,151,200,0,65,141,22,136,0,62,126,139,233,49,154,28,240,35,59,136,138,7]
            await c.checkMulSig(pks,xPks,yPks,idxr,idxs,xR,yR,R,sig,mess)
        });
    });
});
